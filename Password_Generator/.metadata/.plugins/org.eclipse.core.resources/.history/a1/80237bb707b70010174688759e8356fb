package com.password.generator;

import java.util.Random;

import org.springframework.stereotype.Service;

@Service
public class PasswordServiceImpl implements PasswordService {

	@Override
	public String generatePassword(int length, boolean upper, boolean lower, boolean number, boolean symbol) {
		String upperCase = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
		String lowerCase = "abcdefghijklmnopqrstuvwxyz";
		String numbers = "0123456789";
		String symbols = "!@#$%^&*()_+[]{}|;:,.<>?";

		StringBuilder allChars = new StringBuilder();

		if (upper)
			allChars.append(upperCase);
		if (lower)
			allChars.append(lowerCase);
		if (number)
			allChars.append(numbers);
		if (symbol)
			allChars.append(symbols);

		if (allChars.isEmpty()) {
			return "Select at least one option!";
		}

		Random random = new Random();
		StringBuilder password = new StringBuilder();
		for (int i = 0; i < length; i++) {
			int index = random.nextInt(allChars.length());
			password.append(allChars.charAt(index));
		}

		return password.toString();
	}

}
